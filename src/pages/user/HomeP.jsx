import { Image } from "antd";
import { Fragment, useEffect, useState } from "react";
import { Card } from "react-bootstrap";
import Button from "../../components/Button/Button";
import Slider from "react-slick";
import { request } from "../../server/request";
import { Link } from "react-router-dom";
import "../../scss/home.scss";

const HomeP = () => {
  const [posts, setPosts] = useState([]);
  const [catigory, setCatigory] = useState([]);

  useEffect(() => {
    async function getPosts() {
      try {
        let { data } = await request.get("post/lastones");
        setPosts(data);
      } catch (err) {
        console.log(err.response);
      }
    }
    getPosts();
  }, []);

  console.log(posts);

  useEffect(() => {
    async function getPosts() {
      try {
        let { data } = await request.get("category");
        const category1 = data.data;

        setCatigory(category1);
      } catch (err) {
        console.log(err.response);
      }
    }
    getPosts();
  }, []);

  console.log(catigory);

  var slider1 = {
    dots: false,
    infinite: true,
    slidesToShow: 3,
    slidesToScroll: 1,
    initialSlide: 0,
    autoplay: true,
    speed: 500,
    responsive: [
      {
        breakpoint: 950,
        settings: {
          slidesToShow: 2,
          slidesToScroll: 2,
          initialSlide: 2,
        },
      },
      {
        breakpoint: 500,
        settings: {
          slidesToShow: 1,
          slidesToScroll: 1,
        },
      },
    ],
  };

  var slider2 = {
    dots: true,
    infinite: true,
    autoplay: true,
    speed: 500,
    slidesToShow: 4,
    slidesToScroll: 1,
    initialSlide: 0,
    responsive: [
      {
        breakpoint: 1024,
        settings: {
          slidesToShow: 3,
          slidesToScroll: 3,
          infinite: true,
          dots: true,
        },
      },
      {
        breakpoint: 600,
        settings: {
          slidesToShow: 2,
          slidesToScroll: 2,
          initialSlide: 2,
        },
      },
      {
        breakpoint: 480,
        settings: {
          slidesToShow: 1,
          slidesToScroll: 1,
        },
      },
    ],
  };

  return (
    <Fragment>
      <section id="home">
        <div className="container">
          <div className="home">
            <h2>
              Posted on <b>startup</b>
            </h2>
            <h1>Step-by-step guide to choosing great font pairs</h1>
            <h6>
              By <span>James West</span> | May 23, 2022{" "}
            </h6>
            <p>
              Duis aute irure dolor in reprehenderit in voluptate velit esse
              cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
              cupidatat non proident.
            </p>
            <Link to="/id">
              <Button
                title="Read more >"
                icons={<ion-icon name="chevron-forward-outline"></ion-icon>}
              />
            </Link>
          </div>
        </div>
      </section>
      <div className="container">
        <h1 className="popular-blogs"> Popular blogs </h1>
        <Slider {...slider1}>
          {posts.map((pr) => (
            <div key={pr}>
              <Card className="popular-blog">
                <Image src="https://s3-alpha-sig.figma.com/img/f36a/ceb1/331b3b8ac3a1d67fcd41a038e1383b54?Expires=1691366400&Signature=FDh5WVSK549XQXRA5xJlmyzVCMEzaKapUTOgfmemrrvrnaEaeXVUDaCwRLWQrL2dPQhqcUGINIbAPh3dQjdH9a94Pi1EnZlvbC6TiZDKyFl9CSM5STS56L0MU9URHB9nH8f76Qou5-VzV2lfvMC~B~Pw8crk8vSZEHpiwf41pkBzDIMHkVDMbfMLNMFHG~TQQJT-VH5A0cD~rQD1-IUFDpvwWSy5v9Dp~cDOsegYYqwztBJrDyrHZE25wgN1DaT-eV6VtFh6A3i-9IS2MBqRZkH7q0fzZxbNEJmgh9AsRqXMn7hnPqM25xXNUFHI-2CSeVDRIv-WsWZbFkGxJwCcFQ__&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4" />
                <Card.Body>
                  <p>
                    By <span>John Doe </span> | {pr.updatedAt.split("T")[0]}
                  </p>
                  <Card.Title>{pr.title}</Card.Title>
                  <Card.Text>
                    Duis aute irure dolor in reprehenderit in voluptate velit
                    esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
                    occaecat cupidatat non proident.
                  </Card.Text>
                </Card.Body>
              </Card>
            </div>
          ))}
        </Slider>
      </div>

      <section id="category">
        <div className="container">
          <div className="category-top">
            <h1>Choose A Category</h1>
          </div>

          <div className="category-row">
            <Slider {...slider2}>
              <div className="category-card">
                <div className="card-img">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="23"
                    height="24"
                    viewBox="0 0 23 24"
                    fill="none"
                  >
                    <g>
                      <path
                        d="M5.11557 15.5469H2.53171C1.5999 15.5469 0.841797 16.3154 0.841797 17.2599V22.809C0.841797 23.3891 1.30738 23.861 1.87959 23.861H5.76759C6.33985 23.861 6.80544 23.3891 6.80544 22.809V17.26C6.80544 16.3154 6.04738 15.5469 5.11557 15.5469Z"
                        fill="#232536"
                      />
                      <path
                        d="M12.6996 12.1763H10.1157C9.18389 12.1763 8.42578 12.9448 8.42578 13.8893V22.8087C8.42578 23.3887 8.89137 23.8607 9.46363 23.8607H13.3516C13.9239 23.8607 14.3894 23.3887 14.3894 22.8087V13.8893C14.3894 12.9447 13.6314 12.1763 12.6996 12.1763Z"
                        fill="#232536"
                      />
                      <path
                        d="M20.4261 8.33643H17.8423C16.9104 8.33643 16.1523 9.10491 16.1523 10.0494V22.8089C16.1523 23.389 16.6179 23.8609 17.1901 23.8609H21.0781C21.6504 23.8609 22.1159 23.389 22.1159 22.8089V10.0494C22.116 9.10491 21.3579 8.33643 20.4261 8.33643Z"
                        fill="#232536"
                      />
                      <path
                        d="M18.3681 1.23817C18.052 0.785302 17.538 0.545822 16.9929 0.596545L12.1128 1.05423C11.5678 1.10537 11.1059 1.4367 10.8771 1.94061C10.6483 2.44453 10.7004 3.0158 11.0165 3.46867L11.2889 3.85891L5.23176 8.10169L5.22557 8.1061C4.79576 8.41439 4.51015 8.87394 4.42133 9.40004C4.33251 9.92613 4.45106 10.4558 4.75519 10.8915C5.05932 11.3271 5.51266 11.6167 6.03165 11.7068C6.1441 11.7263 6.25669 11.7359 6.36851 11.7359C6.77133 11.7359 7.1637 11.6107 7.49957 11.3708L13.5664 7.12136L13.8476 7.5241C14.1357 7.93675 14.588 8.1725 15.0783 8.1725C15.1261 8.1725 15.1743 8.17023 15.2228 8.16573C15.7677 8.1146 16.2297 7.78322 16.4585 7.27926L18.5076 2.76623C18.7364 2.26222 18.6843 1.691 18.3681 1.23817Z"
                        fill="#FFD050"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_533_2312">
                        <rect
                          width="22.9565"
                          height="23.2707"
                          fill="white"
                          transform="translate(0 0.590332)"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                </div>
                <Link to={`/categories`}>
                  <h1> Economy</h1>
                </Link>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</p>
              </div>{" "}
              <div className="category-card">
                <div className="card-img">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <g>
                      <path
                        d="M15.5176 7.40795C15.5176 8.15962 16.1486 8.77147 16.9238 8.77147H21.1042C21.0283 7.81192 20.7988 6.89491 20.4316 6.04443H16.9238C16.1486 6.04443 15.5176 6.65629 15.5176 7.40795Z"
                        fill="#232536"
                      />
                      <path
                        d="M6.37695 23.8609H14.8145C15.2031 23.8609 15.5176 23.5559 15.5176 23.1791V19.6794H16.9238V15.248L9.893 10.1348H3.56445C3.17581 10.1348 2.86133 10.4397 2.86133 10.8165C2.86133 13.2313 3.88236 15.5443 5.67383 17.212V23.1791C5.67383 23.5559 5.98831 23.8609 6.37695 23.8609Z"
                        fill="#FFD050"
                      />
                      <path
                        d="M12.002 0.590332C11.6133 0.590332 11.2988 0.89526 11.2988 1.27209V1.95385H8.35681C8.06558 1.16201 7.29242 0.590332 6.37695 0.590332C5.2138 0.590332 4.26758 1.5078 4.26758 2.63561C4.26758 3.76342 5.2138 4.68089 6.37695 4.68089C7.29242 4.68089 8.06558 4.10921 8.35681 3.31737H11.2988V6.04441H4.13806C3.84683 5.25257 3.07367 4.68089 2.1582 4.68089C0.995047 4.68089 0.00195312 5.59836 0.00195312 6.72617C0.00195312 7.85398 0.995047 8.77145 2.1582 8.77145C3.07367 8.77145 3.84683 8.19977 4.13806 7.40793H11.2988V9.45353L18.0485 14.362C18.2257 14.4905 18.3301 14.6929 18.3301 14.9073V19.6796H19.0332C20.1964 19.6796 21.1426 18.7621 21.1426 17.6343V14.2255H23.2988C23.5584 14.2255 23.7966 14.087 23.9189 13.8653C24.0411 13.6436 24.0274 13.3746 23.8839 13.1656L21.7533 10.135H16.9238C15.3727 10.135 14.1113 8.91194 14.1113 7.40793C14.1113 5.90392 15.3727 4.68089 16.9238 4.68089H19.6897C18.0628 2.22556 15.2291 0.590332 12.002 0.590332V0.590332Z"
                        fill="#232536"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_533_2339">
                        <rect
                          width="24"
                          height="23.2707"
                          fill="white"
                          transform="translate(0 0.590332)"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                </div>
                <Link to={`/categories`}>
                  <h1> Technology</h1>
                </Link>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</p>
              </div>
              <div className="category-card">
                <div className="card-img">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="23"
                    height="23"
                    viewBox="0 0 23 23"
                    fill="none"
                  >
                    <g>
                      <path
                        d="M5.85054 6.61426L3.85792 6.76353C3.30345 6.80508 2.80963 7.08685 2.50299 7.53657L0.204943 10.9066C-0.0276155 11.2477 -0.0645859 11.6745 0.105981 12.0484C0.276593 12.4223 0.627205 12.6828 1.04385 12.7454L2.86834 13.0194C3.29514 10.8233 4.31683 8.63254 5.85054 6.61426Z"
                        fill="#FFD050"
                      />
                      <path
                        d="M10.1836 20.1113L10.4662 21.8804C10.5307 22.2843 10.7995 22.6243 11.185 22.7897C11.3454 22.8585 11.5152 22.8925 11.6842 22.8925C11.9215 22.8925 12.1572 22.8254 12.3626 22.6937L15.8384 20.4656C16.3022 20.1682 16.5928 19.6893 16.6355 19.1518L16.7895 17.2197C14.7079 18.7069 12.4486 19.6975 10.1836 20.1113Z"
                        fill="#FFD050"
                      />
                      <path
                        d="M9.49658 18.8846C9.55992 18.8846 9.62362 18.8796 9.68718 18.8693C10.6361 18.7155 11.5507 18.4563 12.4232 18.1171L4.92442 10.8462C4.57457 11.6921 4.30729 12.5789 4.14863 13.499C4.0861 13.8617 4.21156 14.2312 4.4797 14.4913L8.66387 18.5483C8.8865 18.7641 9.18698 18.8846 9.49658 18.8846Z"
                        fill="#FFD050"
                      />
                      <path
                        d="M21.1661 10.4788C23.0011 7.03894 23.069 3.40388 22.9731 1.69908C22.9403 1.11495 22.46 0.649239 21.8575 0.617399C21.5712 0.602241 21.2319 0.591309 20.8495 0.591309C18.8835 0.591309 15.7726 0.880045 12.8027 2.36955C10.4424 3.55328 7.34745 6.15975 5.52148 9.58512C5.54305 9.60145 5.56411 9.61879 5.58397 9.63804L13.6698 17.4782C13.6897 17.4975 13.7075 17.5179 13.7244 17.5388C17.2571 15.7682 19.9453 12.7673 21.1661 10.4788ZM13.3731 5.30587C14.6866 4.03223 16.8241 4.0321 18.1377 5.30587C18.7741 5.92284 19.1245 6.74323 19.1245 7.6158C19.1245 8.48837 18.7741 9.30875 18.1377 9.92573C17.481 10.5625 16.618 10.8809 15.7554 10.881C14.8925 10.8811 14.03 10.5627 13.3731 9.92573C12.7367 9.30875 12.3863 8.48837 12.3863 7.6158C12.3863 6.74323 12.7367 5.92284 13.3731 5.30587Z"
                        fill="#232536"
                      />
                      <path
                        d="M14.3264 9.00182C15.1146 9.76602 16.3971 9.76607 17.1853 9.00182C17.5671 8.63159 17.7773 8.13939 17.7773 7.61584C17.7773 7.09229 17.5671 6.60009 17.1853 6.2299C16.7912 5.84778 16.2735 5.65674 15.7559 5.65674C15.2382 5.65674 14.7205 5.84778 14.3265 6.2299C13.9447 6.60009 13.7344 7.09229 13.7344 7.61584C13.7344 8.13939 13.9447 8.63163 14.3264 9.00182Z"
                        fill="#232536"
                      />
                      <path
                        d="M0.687523 18.9691C0.859978 18.9691 1.03243 18.9054 1.16396 18.7778L3.36392 16.6446C3.62708 16.3895 3.62708 15.9758 3.36392 15.7207C3.10082 15.4655 2.67415 15.4655 2.411 15.7207L0.211036 17.8538C-0.0521162 18.1089 -0.0521162 18.5226 0.211036 18.7778C0.342612 18.9053 0.515068 18.9691 0.687523 18.9691Z"
                        fill="#FFD050"
                      />
                      <path
                        d="M5.37991 17.6762C5.1168 17.4211 4.69014 17.4211 4.42698 17.6762L0.197364 21.7773C-0.0657881 22.0325 -0.0657881 22.4461 0.197364 22.7013C0.32894 22.8289 0.501396 22.8926 0.673851 22.8926C0.846306 22.8926 1.01876 22.8289 1.15029 22.7013L5.37987 18.6002C5.64306 18.345 5.64306 17.9314 5.37991 17.6762Z"
                        fill="#FFD050"
                      />
                      <path
                        d="M6.4422 19.6303L4.24229 21.7634C3.97913 22.0186 3.97913 22.4323 4.24229 22.6874C4.37386 22.815 4.54632 22.8788 4.71873 22.8788C4.89114 22.8788 5.06364 22.815 5.19517 22.6874L7.39513 20.5543C7.65828 20.2991 7.65828 19.8855 7.39513 19.6303C7.13202 19.3752 6.70535 19.3752 6.4422 19.6303Z"
                        fill="#FFD050"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_533_2350">
                        <rect
                          width="23"
                          height="22.3011"
                          fill="white"
                          transform="translate(0 0.591309)"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                </div>
                <Link to={`/categories`}>
                  <h1> Startup</h1>
                </Link>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</p>
              </div>{" "}
              <div className="category-card">
                <div className="card-img">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="23"
                    height="24"
                    viewBox="0 0 23 24"
                    fill="none"
                  >
                    <g>
                      <path
                        d="M5.11557 15.5469H2.53171C1.5999 15.5469 0.841797 16.3154 0.841797 17.2599V22.809C0.841797 23.3891 1.30738 23.861 1.87959 23.861H5.76759C6.33985 23.861 6.80544 23.3891 6.80544 22.809V17.26C6.80544 16.3154 6.04738 15.5469 5.11557 15.5469Z"
                        fill="#232536"
                      />
                      <path
                        d="M12.6996 12.1763H10.1157C9.18389 12.1763 8.42578 12.9448 8.42578 13.8893V22.8087C8.42578 23.3887 8.89137 23.8607 9.46363 23.8607H13.3516C13.9239 23.8607 14.3894 23.3887 14.3894 22.8087V13.8893C14.3894 12.9447 13.6314 12.1763 12.6996 12.1763Z"
                        fill="#232536"
                      />
                      <path
                        d="M20.4261 8.33643H17.8423C16.9104 8.33643 16.1523 9.10491 16.1523 10.0494V22.8089C16.1523 23.389 16.6179 23.8609 17.1901 23.8609H21.0781C21.6504 23.8609 22.1159 23.389 22.1159 22.8089V10.0494C22.116 9.10491 21.3579 8.33643 20.4261 8.33643Z"
                        fill="#232536"
                      />
                      <path
                        d="M18.3681 1.23817C18.052 0.785302 17.538 0.545822 16.9929 0.596545L12.1128 1.05423C11.5678 1.10537 11.1059 1.4367 10.8771 1.94061C10.6483 2.44453 10.7004 3.0158 11.0165 3.46867L11.2889 3.85891L5.23176 8.10169L5.22557 8.1061C4.79576 8.41439 4.51015 8.87394 4.42133 9.40004C4.33251 9.92613 4.45106 10.4558 4.75519 10.8915C5.05932 11.3271 5.51266 11.6167 6.03165 11.7068C6.1441 11.7263 6.25669 11.7359 6.36851 11.7359C6.77133 11.7359 7.1637 11.6107 7.49957 11.3708L13.5664 7.12136L13.8476 7.5241C14.1357 7.93675 14.588 8.1725 15.0783 8.1725C15.1261 8.1725 15.1743 8.17023 15.2228 8.16573C15.7677 8.1146 16.2297 7.78322 16.4585 7.27926L18.5076 2.76623C18.7364 2.26222 18.6843 1.691 18.3681 1.23817Z"
                        fill="#FFD050"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_533_2312">
                        <rect
                          width="22.9565"
                          height="23.2707"
                          fill="white"
                          transform="translate(0 0.590332)"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                </div>
                <Link to={`/categories`}>
                  <h1> Economy</h1>
                </Link>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</p>
              </div>
              <div className="category-card">
                <div className="card-img">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="48"
                    height="48"
                    viewBox="0 0 48 48"
                    fill="none"
                  >
                    <path
                      d="M25.0305 14.4461L14.04 12.8273C13.53 12.7502 13.0095 12.8855 12.6195 13.2055C12.2295 13.5356 12 14.0098 12 14.5043V34.9345C12 35.4683 12.45 35.9046 13.0005 35.9046H16.251V30.8141C16.251 29.8731 17.031 29.1168 18.0015 29.1168H20.502C21.4725 29.1168 22.2525 29.8731 22.2525 30.8141V35.9046H26.502V16.1245C26.5005 15.2896 25.8795 14.5828 25.0305 14.4461ZM17.5005 26.9352H16.0005C15.5865 26.9352 15.2505 26.6094 15.2505 26.208C15.2505 25.8066 15.5865 25.4808 16.0005 25.4808H17.5005C17.9145 25.4808 18.2505 25.8066 18.2505 26.208C18.2505 26.6094 17.9145 26.9352 17.5005 26.9352ZM17.5005 24.0264H16.0005C15.5865 24.0264 15.2505 23.7006 15.2505 23.2991C15.2505 22.8977 15.5865 22.5719 16.0005 22.5719H17.5005C17.9145 22.5719 18.2505 22.8977 18.2505 23.2991C18.2505 23.7006 17.9145 24.0264 17.5005 24.0264ZM17.5005 21.1175H16.0005C15.5865 21.1175 15.2505 20.7917 15.2505 20.3903C15.2505 19.9889 15.5865 19.6631 16.0005 19.6631H17.5005C17.9145 19.6631 18.2505 19.9889 18.2505 20.3903C18.2505 20.7917 17.9145 21.1175 17.5005 21.1175ZM17.5005 18.2087H16.0005C15.5865 18.2087 15.2505 17.8829 15.2505 17.4815C15.2505 17.08 15.5865 16.7542 16.0005 16.7542H17.5005C17.9145 16.7542 18.2505 17.08 18.2505 17.4815C18.2505 17.8829 17.9145 18.2087 17.5005 18.2087ZM22.5 26.9352H21C20.586 26.9352 20.25 26.6094 20.25 26.208C20.25 25.8066 20.586 25.4808 21 25.4808H22.5C22.914 25.4808 23.25 25.8066 23.25 26.208C23.25 26.6094 22.914 26.9352 22.5 26.9352ZM22.5 24.0264H21C20.586 24.0264 20.25 23.7006 20.25 23.2991C20.25 22.8977 20.586 22.5719 21 22.5719H22.5C22.914 22.5719 23.25 22.8977 23.25 23.2991C23.25 23.7006 22.914 24.0264 22.5 24.0264ZM22.5 21.1175H21C20.586 21.1175 20.25 20.7917 20.25 20.3903C20.25 19.9889 20.586 19.6631 21 19.6631H22.5C22.914 19.6631 23.25 19.9889 23.25 20.3903C23.25 20.7917 22.914 21.1175 22.5 21.1175ZM22.5 18.2087H21C20.586 18.2087 20.25 17.8829 20.25 17.4815C20.25 17.08 20.586 16.7542 21 16.7542H22.5C22.914 16.7542 23.25 17.08 23.25 17.4815C23.25 17.8829 22.914 18.2087 22.5 18.2087Z"
                      fill="#232536"
                    />
                    <path
                      d="M34.6205 23.1469L27.5 21.7012V35.9051H34.25C35.2145 35.9051 36.0005 35.1444 36.0005 34.2077V24.8049C36.0005 24.0035 35.4365 23.3214 34.6205 23.1469ZM32.2505 32.9962H30.7505C30.3365 32.9962 30.0005 32.6704 30.0005 32.269C30.0005 31.8676 30.3365 31.5418 30.7505 31.5418H32.2505C32.6645 31.5418 33.0005 31.8676 33.0005 32.269C33.0005 32.6704 32.6645 32.9962 32.2505 32.9962ZM32.2505 30.0874H30.7505C30.3365 30.0874 30.0005 29.7616 30.0005 29.3602C30.0005 28.9587 30.3365 28.6329 30.7505 28.6329H32.2505C32.6645 28.6329 33.0005 28.9587 33.0005 29.3602C33.0005 29.7616 32.6645 30.0874 32.2505 30.0874ZM32.2505 27.1785H30.7505C30.3365 27.1785 30.0005 26.8527 30.0005 26.4513C30.0005 26.0499 30.3365 25.7241 30.7505 25.7241H32.2505C32.6645 25.7241 33.0005 26.0499 33.0005 26.4513C33.0005 26.8527 32.6645 27.1785 32.2505 27.1785Z"
                      fill="#FFD050"
                    />
                  </svg>
                </div>
                <Link to={`/categories`}>
                  <h1> Business</h1>
                </Link>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</p>
              </div>
            </Slider>
          </div>
        </div>
      </section>
    </Fragment>
  );
};

export default HomeP;
